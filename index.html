<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess the Country Game</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base Styling for the Dark Blue Theme and Poppins Font */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a202c; /* Dark blue background */
            color: #e2e8f0; /* Light gray text */
            display: flex;
            justify-content: center;
            align-items: center; /* Center vertically and horizontally */
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            line-height: 1.6;
        }

        .game-container {
            background-color: #2d3748; /* Slightly lighter dark blue for container */
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            text-align: center;
            width: 100%;
            max-width: 600px; /* Adjusted for better game layout */
        }

        h1 {
            color: #63b3ed; /* A nice blue for the heading */
            margin-bottom: 20px;
            font-weight: 700;
        }

        .info-display {
            font-size: 1.2em;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .hint-display {
            background-color: #4a5568;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            min-height: 60px; /* Ensure space for hints */
            display: flex;
            align-items: center;
            justify-content: center;
            font-style: italic;
            color: #cbd5e0;
        }

        #guess-input {
            width: calc(100% - 20px);
            padding: 12px;
            margin-bottom: 15px;
            border: 1px solid #4a5568;
            border-radius: 5px;
            background-color: #4a5568;
            color: #e2e8f0;
            font-size: 1em;
            font-family: 'Poppins', sans-serif;
            box-sizing: border-box;
            text-align: center; /* Center the typed text */
        }

        #guess-input::placeholder {
            color: #a0aec0;
        }

        .feedback {
            min-height: 1.5em; /* To prevent layout shift */
            margin-bottom: 15px;
            font-weight: bold;
        }

        .feedback.correct {
            color: #48bb78; /* Green for correct */
        }

        .feedback.incorrect {
            color: #f56565; /* Red for incorrect */
        }

        button {
            background-color: #63b3ed; /* Button primary color */
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1.1em;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
            margin: 0 5px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Added shadow */
        }

        button:hover {
            background-color: #4299e1; /* Darker blue on hover */
            transform: translateY(-1px); /* Slight lift effect */
        }

        button:active {
            transform: translateY(0);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        button:disabled {
            background-color: #a0aec0;
            cursor: not-allowed;
            opacity: 0.7;
        }

        /* Modal Styling */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: #2d3748;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.5);
            text-align: center;
            max-width: 400px;
            transform: scale(0.9);
            transition: transform 0.3s ease-in-out;
        }

        .modal-overlay.show .modal-content {
            transform: scale(1);
        }

        .modal-content h2 {
            color: #48bb78; /* Green for success */
            margin-bottom: 15px;
            font-weight: 700;
            font-size: 1.8em;
        }
        .modal-content p {
            font-size: 1.1em;
            margin-bottom: 25px;
        }
        .modal-content .modal-close-button {
            background-color: #63b3ed;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1em;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
        }
        .modal-content .modal-close-button:hover {
            background-color: #4299e1;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>Guess the Country!</h1>
        <div class="info-display">
            Tries Left: <span id="tries-left-display">5</span>
        </div>
        <div class="hint-display" id="hint-display">
            Click "Start Game" to begin!
        </div>
        <input type="text" id="guess-input" placeholder="Enter your guess..." autofocus disabled>
        <div id="feedback-message" class="feedback"></div>
        <button id="start-game-button">Start Game</button>
        <button id="new-game-button" style="display:none;">New Game</button>
    </div>

    <!-- Custom Modal for Win/Loss -->
    <div id="game-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="modal-title"></h2>
            <p id="modal-message"></p>
            <button id="modal-close-button" class="modal-close-button">Close</button>
        </div>
    </div>

    <script>
        const guessInput = document.getElementById('guess-input');
        const feedbackMessage = document.getElementById('feedback-message');
        const triesLeftDisplay = document.getElementById('tries-left-display');
        const hintDisplay = document.getElementById('hint-display');
        const startGameButton = document.getElementById('start-game-button');
        const newGameButton = document.getElementById('new-game-button');

        const gameModal = document.getElementById('game-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalMessage = document.getElementById('modal-message');
        const modalCloseButton = document.getElementById('modal-close-button');

        let currentCountry = null;
        let attemptsLeft = 5;
        let hintLevel = 0; // 0: no hints, 1: continent, 2: capital, etc.
        let gameActive = false;

        // Comprehensive country data with hint details
        // Note: For a real game, you'd want a much larger and more diverse set of facts.
        const allCountryData = [
            { name: "France", capital: "Paris", continent: "Europe", population: "Large", fact: "Home to the Eiffel Tower" },
            { name: "Japan", capital: "Tokyo", continent: "Asia", population: "Large", fact: "Known for cherry blossoms and sushi" },
            { name: "Brazil", capital: "BrasÃ­lia", continent: "South America", population: "Very Large", fact: "Famous for its Amazon rainforest" },
            { name: "Egypt", capital: "Cairo", continent: "Africa", population: "Large", fact: "Pyramids of Giza are here" },
            { name: "Australia", capital: "Canberra", continent: "Oceania", population: "Medium", fact: "Known for kangaroos and the Outback" },
            { name: "Canada", capital: "Ottawa", continent: "North America", population: "Medium", fact: "Second largest country by land area" },
            { name: "India", capital: "New Delhi", continent: "Asia", population: "Very Large", fact: "The Taj Mahal is located here" },
            { name: "Germany", capital: "Berlin", continent: "Europe", population: "Large", fact: "Famous for its beer festivals" },
            { name: "South Africa", capital: "Pretoria", continent: "Africa", population: "Medium", fact: "Has three capital cities" },
            { name: "Mexico", capital: "Mexico City", continent: "North America", population: "Large", fact: "Celebrates Day of the Dead" },
            { name: "Italy", capital: "Rome", continent: "Europe", population: "Large", fact: "Shaped like a boot" },
            { name: "China", capital: "Beijing", continent: "Asia", population: "Very Large", fact: "Has the Great Wall" },
            { name: "Argentina", capital: "Buenos Aires", continent: "South America", population: "Medium", fact: "Birthplace of Tango" },
            { name: "Nigeria", capital: "Abuja", continent: "Africa", population: "Very Large", fact: "Most populous country in Africa" },
            { name: "New Zealand", capital: "Wellington", continent: "Oceania", population: "Small", fact: "Known for its stunning fjords" },
            { name: "Spain", capital: "Madrid", continent: "Europe", population: "Large", fact: "Known for flamenco dancing" },
            { name: "Russia", capital: "Moscow", continent: "Europe/Asia", population: "Very Large", fact: "Largest country by land area" },
            { name: "Peru", capital: "Lima", continent: "South America", population: "Medium", fact: "Home to Machu Picchu" },
            { name: "Kenya", capital: "Nairobi", continent: "Africa", population: "Large", fact: "Famous for its wildlife safaris" },
            { name: "United States", capital: "Washington, D.C.", continent: "North America", population: "Very Large", fact: "Has 50 states" },
            { name: "Turkey", capital: "Ankara", continent: "Europe/Asia", population: "Large", fact: "Sits on two continents" }
        ];

        // --- Game Functions ---

        function selectRandomCountry() {
            const randomIndex = Math.floor(Math.random() * allCountryData.length);
            currentCountry = allCountryData[randomIndex];
            console.log("Debug: Current Country is", currentCountry.name); // For debugging, remove in production
        }

        function getHint(level) {
            if (!currentCountry) return "Error: No country selected.";

            switch (level) {
                case 1: return `Hint 1: It's in ${currentCountry.continent}.`;
                case 2: return `Hint 2: Its capital city is ${currentCountry.capital}.`;
                case 3: return `Hint 3: It has a ${currentCountry.population} population.`;
                case 4: return `Hint 4: ${currentCountry.fact}.`;
                case 5: return `Hint 5: The country name starts with '${currentCountry.name.charAt(0).toUpperCase()}'.`;
                default: return "No more hints available.";
            }
        }

        function startGame() {
            gameActive = true;
            attemptsLeft = 5;
            hintLevel = 0;
            feedbackMessage.textContent = '';
            guessInput.value = '';
            guessInput.disabled = false;
            guessInput.focus();
            startGameButton.style.display = 'none';
            newGameButton.style.display = 'inline-block';

            selectRandomCountry();
            updateGameDisplay();
            provideHint(); // Give the first hint immediately
        }

        function provideHint() {
            if (attemptsLeft > 0 && hintLevel <= 5) {
                hintLevel++; // Increment hint level for the next hint
                hintDisplay.textContent = getHint(hintLevel);
            } else if (attemptsLeft === 0) {
                 hintDisplay.textContent = `You ran out of tries! The country was ${currentCountry.name}.`;
            } else {
                hintDisplay.textContent = `No more hints. Good luck!`;
            }
        }

        function updateGameDisplay() {
            triesLeftDisplay.textContent = attemptsLeft;
        }

        function checkGuess() {
            if (!gameActive) return;

            const userGuess = guessInput.value.trim().toLowerCase();
            guessInput.value = ''; // Clear input

            if (!userGuess) {
                feedbackMessage.textContent = "Please enter a guess!";
                feedbackMessage.className = 'feedback incorrect'; // Use incorrect for empty guess too
                return;
            }

            if (userGuess === currentCountry.name.toLowerCase()) {
                gameActive = false;
                feedbackMessage.textContent = `Correct! You guessed "${currentCountry.name}"!`;
                feedbackMessage.className = 'feedback correct';
                guessInput.disabled = true;
                showModal("Good Job Chanel! <3", `You guessed "${currentCountry.name}" correctly!`);
            } else {
                attemptsLeft--;
                updateGameDisplay();
                if (attemptsLeft > 0) {
                    feedbackMessage.textContent = `Incorrect! You have ${attemptsLeft} tries left.`;
                    feedbackMessage.className = 'feedback incorrect';
                    provideHint(); // Provide a new hint after an incorrect guess
                } else {
                    gameActive = false;
                    feedbackMessage.textContent = `Game Over! The country was "${currentCountry.name}".`;
                    feedbackMessage.className = 'feedback incorrect';
                    guessInput.disabled = true;
                    showModal("Game Over!", `The country was "${currentCountry.name}". Better luck next time!`);
                }
            }
        }

        function resetGame() {
            // This function effectively re-initializes for a new game
            startGame();
        }

        // --- Modal Functions ---
        function showModal(title, message) {
            modalTitle.textContent = title;
            modalMessage.innerHTML = message; // Use innerHTML for potential <br> or other tags
            gameModal.classList.add('show');
        }

        function hideModal() {
            gameModal.classList.remove('show');
        }

        // --- Event Listeners ---
        startGameButton.addEventListener('click', startGame);
        newGameButton.addEventListener('click', resetGame);
        guessInput.addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                checkGuess();
            }
        });
        modalCloseButton.addEventListener('click', hideModal);

        // --- Initialize Game on Load ---
        updateGameDisplay();
    </script>
</body>
</html>
